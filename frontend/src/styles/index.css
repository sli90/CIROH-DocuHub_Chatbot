@import 'tailwindcss';

@theme {
  --color-primary-50: #eff6ff;
  --color-primary-100: #dbeafe;
  --color-primary-200: #bfdbfe;
  --color-primary-300: #93c5fd;
  --color-primary-400: #60a5fa;
  --color-primary-500: #3b82f6;
  --color-primary-600: #2563eb;
  --color-primary-700: #1d4ed8;
  --color-primary-800: #1e40af;
  --color-primary-900: #1e3a8a;

  --color-gray-50: #f9fafb;
  --color-gray-100: #f3f4f6;
  --color-gray-200: #e5e7eb;
  --color-gray-300: #d1d5db;
  --color-gray-400: #9ca3af;
  --color-gray-500: #6b7280;
  --color-gray-600: #4b5563;
  --color-gray-700: #374151;
  --color-gray-800: #1f2937;
  --color-gray-900: #111827;

  --font-family-sans: 'Inter', system-ui, sans-serif;

  --shadow-soft:
    0 2px 15px -3px rgba(0, 0, 0, 0.07), 0 10px 20px -2px rgba(0, 0, 0, 0.04);
}

@layer base {
  html {
    font-family: var(--font-family-sans);
  }

  body {
    @apply bg-gray-50 text-gray-900;
  }
}

@layer components {
  .btn {
    @apply inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary-500 focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none;
  }

  .btn-primary {
    @apply bg-primary-600 text-white hover:bg-primary-700 active:bg-primary-800;
  }

  .btn-secondary {
    @apply bg-gray-200 text-gray-900 hover:bg-gray-300 active:bg-gray-400;
  }

  .btn-outline {
    @apply border border-gray-300 bg-transparent hover:bg-gray-50 active:bg-gray-100;
  }

  .btn-sm {
    @apply h-8 px-3 text-xs;
  }

  .btn-md {
    @apply h-10 px-4 py-2;
  }

  .btn-lg {
    @apply h-12 px-8 text-base;
  }

  .card {
    @apply bg-white rounded-lg border border-gray-200 shadow-soft;
  }

  .input {
    @apply flex h-10 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-gray-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary-500 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50;
  }

  .label {
    @apply text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70;
  }

  /* Chat message styles for better text wrapping */
  .chat-message {
    @apply break-words;
    word-break: break-all;
    overflow-wrap: anywhere;
    hyphens: auto;
    max-width: 100%;
  }

  .chat-sources {
    @apply break-words;
    word-break: break-word;
    overflow-wrap: break-word;
    hyphens: auto;
    max-width: 100%;
  }

  /* Ensure URLs and long text wrap properly */
  .chat-message a,
  .chat-sources a {
    @apply break-all;
    word-break: break-all;
    overflow-wrap: anywhere;
  }

  /* Force break on any long text including URLs */
  .chat-message *,
  .chat-sources * {
    word-break: break-all;
    overflow-wrap: anywhere;
  }

  /* Style for links in sources */
  .source-link {
    color: #2563eb;
    text-decoration: underline;
    word-break: break-word;
    overflow-wrap: break-word;
    display: inline-block;
    max-width: 100%;
    transition: color 0.2s ease;
    white-space: normal;
  }

  .source-link:hover {
    color: #1d4ed8;
    text-decoration: underline;
  }

  /* Dark mode link styles */
  .chat-sources .source-link {
    color: #60a5fa;
  }

  .chat-sources .source-link:hover {
    color: #93c5fd;
  }

  /* Ensure message containers handle overflow properly */
  .message-container {
    overflow-wrap: anywhere;
    word-break: break-all;
    min-width: 0;
    max-width: 100%;
  }

  /* URL breaking - break at word boundaries when possible */
  .chat-message,
  .chat-sources {
    overflow-wrap: break-word;
    word-break: break-word;
    hyphens: none;
    white-space: pre-wrap;
  }

  /* Chat message link styles */
  .chat-message a {
    color: #2563eb;
    text-decoration: underline;
    word-break: break-word;
    overflow-wrap: break-word;
    transition: color 0.2s ease;
  }

  .chat-message a:hover {
    color: #1d4ed8;
    text-decoration: underline;
  }

  /* Dark mode chat message link styles */
  .dark .chat-message a {
    color: #60a5fa;
  }

  .dark .chat-message a:hover {
    color: #93c5fd;
  }
}
